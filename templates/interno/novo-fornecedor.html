<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ 'Editar Fornecedor' if fornecedor else 'Novo Fornecedor' }} | Lume Admin</title>
    <link rel="icon" href="/static/imagens/Logo/grandelogosemfundo.png">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&family=Quicksand:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/static/styleinterno.css">
</head>
<body>

    <div class="admin-container">
        
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2 class="brand-text">LUME <span>ADMIN</span></h2>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="dashboard.html"><i class="fa-solid fa-chart-line"></i> Visão Geral</a></li>
                    <li><a href="pedido.html"><i class="fa-solid fa-bag-shopping"></i>Pedidos</a></li>
                    <li><a href="produto.html"><i class="fa-solid fa-box-open"></i> Produtos</a></li>
                    <li class="active"><a href="fornecedores.html"><i class="fa-solid fa-truck-fast"></i> Fornecedores</a></li>
                    <li><a href="funcionarios.html"><i class="fa-solid fa-users"></i> Funcionários</a></li>
                    <li><a href="financeiro.html"><i class="fa-solid fa-file-invoice-dollar"></i> Financeiro</a></li>
                    <li><a href="cliente.html"><i class="fas fa-user"></i>Clientes</a></li>
                    <li class="separator"></li>
                    <li><a href="configuracoes.html"><i class="fa-solid fa-gear"></i> Configurações</a></li>
                </ul>
            </nav>
            <div class="sidebar-footer">
                <a href="login.html" class="logout-btn"><i class="fa-solid fa-right-from-bracket"></i> Sair</a>
            </div>
        </aside>

        <main class="main-content">
            
            <header class="top-bar">
                <div class="welcome-text">
                    <h1>{{ 'Editar Fornecedor' if fornecedor else 'Cadastrar Fornecedor' }}</h1>
                    <p>Gerencie seus parceiros e suprimentos.</p>
                </div>
                <div class="user-profile">
                    <div class="profile-dropdown-trigger" onclick="toggleProfileMenu()">
                        <img src="/static/imagens/fundadora1.jpeg" alt="Admin" class="avatar">
                    </div>
                    <div class="profile-dropdown-menu" id="profileMenu">
                        <ul>
                            <li><a href="configuracoes.html"><i class="fa-regular fa-user"></i> Meu Perfil</a></li>
                            <li class="separator"></li> 
                            <li><a href="/login" class="text-danger"><i class="fa-solid fa-right-from-bracket"></i> Sair</a></li>
                        </ul>
                    </div>
                </div>
            </header>

            <form class="product-form-container" 
                  action="{{ '/fornecedor/atualizar' if fornecedor else '/novo-fornecedor' }}" 
                  method="POST">

                {% if fornecedor %}
                    <input type="hidden" name="id_fornecedor" value="{{ fornecedor['id_fornecedor'] }}">
                {% endif %}
                
                <div class="form-header">
                    <h2>Dados da Empresa</h2>
                    <div class="form-actions">
                        <a href="/fornecedores" class="btn-cancel">Cancelar</a>
                        <button type="submit" class="btn-save">{{ 'Salvar Alterações' if fornecedor else 'Cadastrar' }}</button>
                    </div>
                </div>

                <div class="form-grid">
                    <div class="left-column" style="width: 100%;">
                        
                        <div class="form-row-2">
                            <div class="input-group">
                                <label>Nome Fantasia</label>
                                <input type="text" name="nome_fantasia" placeholder="Nome comercial"
                                       value="{{ fornecedor['nome_fantasia'] if fornecedor else '' }}" required>
                            </div>
                            <div class="input-group">
                                <label>Razão Social</label>
                                <input type="text" name="razao_social" placeholder="Nome jurídico"
                                       value="{{ fornecedor['razao_social'] if fornecedor else '' }}" required>
                            </div>
                        </div>

                        <div class="form-row-3">
                            <div class="input-group">
                                <label>CNPJ</label>
                                <input type="text" name="cnpj" placeholder="00.000.000/0000-00"
                                       value="{{ fornecedor['cnpj'] if fornecedor else '' }}" required>
                            </div>
                            <div class="input-group">
                                <label>Inscrição Estadual</label>
                                <input type="text" name="insc_estadual" 
                                       value="{{ fornecedor['insc_estadual'] if fornecedor else '' }}">
                            </div>
                            <div class="input-group">
                                <label>Categoria</label>
                                <select name="categoria">
                                    <option value="Matéria-prima" {{ 'selected' if fornecedor and fornecedor['categoria'] == 'Matéria-prima' else '' }}>Matéria-prima</option>
                                    <option value="Embalagens" {{ 'selected' if fornecedor and fornecedor['categoria'] == 'Embalagens' else '' }}>Embalagens</option>
                                    <option value="Logística" {{ 'selected' if fornecedor and fornecedor['categoria'] == 'Logística' else '' }}>Logística</option>
                                    <option value="Serviços" {{ 'selected' if fornecedor and fornecedor['categoria'] == 'Serviços' else '' }}>Serviços</option>
                                    <option value="Outros" {{ 'selected' if fornecedor and fornecedor['categoria'] == 'Outros' else '' }}>Outros</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row-2">
                            <div class="input-group">
                                <label>E-mail Comercial</label>
                                <input type="email" name="email" placeholder="contato@empresa.com"
                                       value="{{ fornecedor['email'] if fornecedor else '' }}" required>
                            </div>
                            <div class="input-group">
                                <label>Telefone / WhatsApp</label>
                                <input type="text" name="tel_cel" placeholder="(99) 99999-9999"
                                       value="{{ fornecedor['tel_cel'] if fornecedor else '' }}" required>
                            </div>
                        </div>

                        <div class="input-group">
                            <label>Endereço Completo</label>
                            <input type="text" name="endereco" 
                                   value="{{ fornecedor['endereco'] if fornecedor else '' }}">
                        </div>

                        <div class="form-row-3">
                            <div class="input-group">
                                <label>Cidade</label>
                                <input type="text" name="cidade" 
                                       value="{{ fornecedor['cidade'] if fornecedor else '' }}">
                            </div>
                            <div class="input-group">
                                <label>Estado</label>
                                <input type="text" name="estado" maxlength="2" placeholder="UF"
                                       value="{{ fornecedor['estado'] if fornecedor else '' }}">
                            </div>
                            <div class="input-group">
                                <label>CEP</label>
                                <input type="text" name="cep" placeholder="00000-000"
                                       value="{{ fornecedor['cep'] if fornecedor else '' }}">
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <label>Representante Legal</label>
                            <input type="text" name="nome_repre" placeholder="Nome do contato principal"
                                   value="{{ fornecedor['nome_repre'] if fornecedor else '' }}">
                        </div>

                        <div class="input-group">
                            <label>Observações</label>
                            <textarea name="observacao" rows="3" placeholder="Detalhes adicionais...">{{ fornecedor['observacao'] if fornecedor else '' }}</textarea>
                        </div>

                    </div>
                </div>
            </form>

        </main>
    </div>
    <script src="/static/scriptinterno.js"></script>
</body>
</html>